2023-06-28 15:33:08.829 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Categories] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-06-28 15:33:08.993 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Expenses] AS [e]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-06-28 15:33:09.001 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Incomes] AS [i]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-06-28 15:33:09.060 +03:00 [INF] User profile is available. Using 'C:\Users\stasd\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-06-28 15:33:09.438 +03:00 [INF] Now listening on: https://localhost:7124
2023-06-28 15:33:09.439 +03:00 [INF] Now listening on: http://localhost:5205
2023-06-28 15:33:09.448 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-28 15:33:09.450 +03:00 [INF] Hosting environment: Development
2023-06-28 15:33:09.451 +03:00 [INF] Content root path: C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\
2023-06-28 15:33:10.819 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7124/swagger/index.html - -
2023-06-28 15:33:11.395 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7124/swagger/index.html - - - 200 - text/html;charset=utf-8 579.0990ms
2023-06-28 15:33:11.749 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7124/_vs/browserLink - -
2023-06-28 15:33:11.749 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7124/_framework/aspnetcore-browser-refresh.js - -
2023-06-28 15:33:11.769 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7124/_framework/aspnetcore-browser-refresh.js - - - 200 11996 application/javascript;+charset=utf-8 19.9231ms
2023-06-28 15:33:11.932 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7124/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 183.3635ms
2023-06-28 15:33:12.237 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - -
2023-06-28 15:33:12.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7124/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 219.3364ms
2023-06-28 15:33:18.162 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7124/Auth/Login application/json 47
2023-06-28 15:33:18.174 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.AuthController.Get (ExpenseMaster)'
2023-06-28 15:33:18.215 +03:00 [INF] Route matched with {action = "Get", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ExpenseMaster.BusinessLogic.Dto.UserLoginDto) on controller ExpenseMaster.Controllers.AuthController (ExpenseMaster).
2023-06-28 15:33:18.824 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[@__login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[Login] = @__login_0
2023-06-28 15:33:19.046 +03:00 [INF] Executing OkObjectResult, writing value of type 'ExpenseMaster.BusinessLogic.Dto.SuccesLoginDto'.
2023-06-28 15:33:19.065 +03:00 [INF] Executed action ExpenseMaster.Controllers.AuthController.Get (ExpenseMaster) in 842.4614ms
2023-06-28 15:33:19.068 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.AuthController.Get (ExpenseMaster)'
2023-06-28 15:33:19.084 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7124/Auth/Login application/json 47 - 200 - application/json;+charset=utf-8 921.9259ms
2023-06-28 15:34:12.655 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7124/Income application/json 93
2023-06-28 15:34:12.759 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.IncomeController.CreateIncome (ExpenseMaster)'
2023-06-28 15:34:12.766 +03:00 [INF] Route matched with {action = "CreateIncome", controller = "Income"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseMaster.BusinessLogic.Dto.IncomeItemDto]] CreateIncome(ExpenseMaster.BusinessLogic.Dto.IncomeDto) on controller ExpenseMaster.Controllers.IncomeController (ExpenseMaster).
2023-06-28 15:35:29.556 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Date), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Incomes] ([Amount], [CategoryId], [Date], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2023-06-28 15:35:29.626 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ExpenseMaster.DAL.DatabaseContext.ApplicationDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Incomes_Categories_CategoryId". The conflict occurred in database "ExpenseMaster", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:357f676d-3548-4587-87bc-2e742b322ac2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Incomes_Categories_CategoryId". The conflict occurred in database "ExpenseMaster", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:357f676d-3548-4587-87bc-2e742b322ac2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-28 15:35:29.850 +03:00 [INF] Executed action ExpenseMaster.Controllers.IncomeController.CreateIncome (ExpenseMaster) in 77081.7673ms
2023-06-28 15:35:29.852 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.IncomeController.CreateIncome (ExpenseMaster)'
2023-06-28 15:35:29.934 +03:00 [ERR] Error when accessing the database.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Incomes_Categories_CategoryId". The conflict occurred in database "ExpenseMaster", table "dbo.Categories", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:357f676d-3548-4587-87bc-2e742b322ac2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ExpenseMaster.DAL.Repository.RepositoryWrapper.SaveAsync() in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster.DAL\Repository\RepositoryWrapper.cs:line 88
   at ExpenseMaster.BusinessLogic.Implementations.IncomeService.CreateIncome(IncomeDto incomeDto) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster.BusinessLogic\Implementations\IncomeService.cs:line 50
   at ExpenseMaster.Controllers.IncomeController.CreateIncome(IncomeDto incomeDto) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Controllers\IncomeController.cs:line 39
   at lambda_method45(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ExpenseMaster.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Middlewares\ExceptionHandlingMiddleware.cs:line 20
2023-06-28 15:35:30.001 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7124/Income application/json 93 - 400 - - 77346.1391ms
2023-06-28 15:35:38.602 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7124/Income application/json 94
2023-06-28 15:35:38.605 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.IncomeController.CreateIncome (ExpenseMaster)'
2023-06-28 15:35:38.607 +03:00 [INF] Route matched with {action = "CreateIncome", controller = "Income"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseMaster.BusinessLogic.Dto.IncomeItemDto]] CreateIncome(ExpenseMaster.BusinessLogic.Dto.IncomeDto) on controller ExpenseMaster.Controllers.IncomeController (ExpenseMaster).
2023-06-28 15:35:45.307 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Date), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Incomes] ([Amount], [CategoryId], [Date], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2023-06-28 15:35:49.337 +03:00 [INF] Executing OkObjectResult, writing value of type 'ExpenseMaster.BusinessLogic.Dto.IncomeItemDto'.
2023-06-28 15:35:51.047 +03:00 [INF] Executed action ExpenseMaster.Controllers.IncomeController.CreateIncome (ExpenseMaster) in 12436.6294ms
2023-06-28 15:35:51.050 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.IncomeController.CreateIncome (ExpenseMaster)'
2023-06-28 15:35:52.440 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7124/Income application/json 94 - 200 - application/json;+charset=utf-8 13838.8005ms
2023-06-28 15:36:01.387 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7124/Income - -
2023-06-28 15:36:03.789 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.IncomeController.GetIncomes (ExpenseMaster)'
2023-06-28 15:36:03.852 +03:00 [INF] Route matched with {action = "GetIncomes", controller = "Income"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ExpenseMaster.BusinessLogic.Dto.IncomeItemDto]]] GetIncomes() on controller ExpenseMaster.Controllers.IncomeController (ExpenseMaster).
2023-06-28 15:36:03.887 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[Amount], [i].[CategoryId], [i].[Date], [i].[UserId]
FROM [Incomes] AS [i]
2023-06-28 15:36:03.893 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseMaster.BusinessLogic.Dto.IncomeItemDto, ExpenseMaster.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-28 15:36:03.896 +03:00 [INF] Executed action ExpenseMaster.Controllers.IncomeController.GetIncomes (ExpenseMaster) in 41.5112ms
2023-06-28 15:36:03.897 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.IncomeController.GetIncomes (ExpenseMaster)'
2023-06-28 15:36:03.898 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7124/Income - - - 200 - application/json;+charset=utf-8 2511.4691ms
2023-06-28 15:36:54.832 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7124/Expense application/json 91
2023-06-28 15:36:54.835 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.ExpenseController.CreateExpense (ExpenseMaster)'
2023-06-28 15:36:54.838 +03:00 [INF] Route matched with {action = "CreateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseMaster.BusinessLogic.Dto.ExpenseItemDto]] CreateExpense(ExpenseMaster.BusinessLogic.Dto.ExpenseDto) on controller ExpenseMaster.Controllers.ExpenseController (ExpenseMaster).
2023-06-28 15:37:13.311 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Date), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Expenses] ([Amount], [CategoryId], [Date], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2023-06-28 15:37:13.950 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([e].[Amount]), 0.0)
FROM [Expenses] AS [e]
WHERE [e].[UserId] = @__userId_0
2023-06-28 15:37:13.959 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([i].[Amount]), 0.0)
FROM [Incomes] AS [i]
WHERE [i].[UserId] = @__userId_0
2023-06-28 15:37:15.310 +03:00 [INF] Executing OkObjectResult, writing value of type 'ExpenseMaster.BusinessLogic.Dto.ExpenseItemDto'.
2023-06-28 15:37:16.349 +03:00 [INF] Executed action ExpenseMaster.Controllers.ExpenseController.CreateExpense (ExpenseMaster) in 21509.4826ms
2023-06-28 15:37:16.350 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.ExpenseController.CreateExpense (ExpenseMaster)'
2023-06-28 15:37:16.352 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7124/Expense application/json 91 - 200 - application/json;+charset=utf-8 21520.2114ms
2023-06-28 15:37:22.862 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7124/Expense - -
2023-06-28 15:37:22.864 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.ExpenseController.GetExpenses (ExpenseMaster)'
2023-06-28 15:37:22.870 +03:00 [INF] Route matched with {action = "GetExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ExpenseMaster.BusinessLogic.Dto.ExpenseItemDto]]] GetExpenses() on controller ExpenseMaster.Controllers.ExpenseController (ExpenseMaster).
2023-06-28 15:37:22.894 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[CategoryId], [e].[Date], [e].[UserId]
FROM [Expenses] AS [e]
2023-06-28 15:37:22.897 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseMaster.BusinessLogic.Dto.ExpenseItemDto, ExpenseMaster.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-28 15:37:22.898 +03:00 [INF] Executed action ExpenseMaster.Controllers.ExpenseController.GetExpenses (ExpenseMaster) in 25.287ms
2023-06-28 15:37:22.899 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.ExpenseController.GetExpenses (ExpenseMaster)'
2023-06-28 15:37:22.900 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7124/Expense - - - 200 - application/json;+charset=utf-8 37.8865ms
2023-06-28 15:38:16.784 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7124/Expense application/json 105
2023-06-28 15:38:16.825 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.ExpenseController.UpdateExpense (ExpenseMaster)'
2023-06-28 15:38:16.829 +03:00 [INF] Route matched with {action = "UpdateExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseMaster.BusinessLogic.Dto.ExpenseItemDto]] UpdateExpense(ExpenseMaster.BusinessLogic.Dto.ExpenseItemDto) on controller ExpenseMaster.Controllers.ExpenseController (ExpenseMaster).
2023-06-28 15:38:27.745 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Date), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Expenses] SET [Amount] = @p0, [CategoryId] = @p1, [Date] = @p2, [UserId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2023-06-28 15:38:27.752 +03:00 [INF] Executing OkObjectResult, writing value of type 'ExpenseMaster.BusinessLogic.Dto.ExpenseItemDto'.
2023-06-28 15:38:27.753 +03:00 [INF] Executed action ExpenseMaster.Controllers.ExpenseController.UpdateExpense (ExpenseMaster) in 10922.0971ms
2023-06-28 15:38:27.755 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.ExpenseController.UpdateExpense (ExpenseMaster)'
2023-06-28 15:38:27.757 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7124/Expense application/json 105 - 200 - application/json;+charset=utf-8 10972.1890ms
2023-06-28 15:38:35.110 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7124/Expense - -
2023-06-28 15:38:35.137 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.ExpenseController.GetExpenses (ExpenseMaster)'
2023-06-28 15:38:35.140 +03:00 [INF] Route matched with {action = "GetExpenses", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ExpenseMaster.BusinessLogic.Dto.ExpenseItemDto]]] GetExpenses() on controller ExpenseMaster.Controllers.ExpenseController (ExpenseMaster).
2023-06-28 15:38:35.145 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[Amount], [e].[CategoryId], [e].[Date], [e].[UserId]
FROM [Expenses] AS [e]
2023-06-28 15:38:35.150 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseMaster.BusinessLogic.Dto.ExpenseItemDto, ExpenseMaster.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-28 15:38:35.151 +03:00 [INF] Executed action ExpenseMaster.Controllers.ExpenseController.GetExpenses (ExpenseMaster) in 9.8028ms
2023-06-28 15:38:35.153 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.ExpenseController.GetExpenses (ExpenseMaster)'
2023-06-28 15:38:35.154 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7124/Expense - - - 200 - application/json;+charset=utf-8 43.5547ms
2023-06-28 15:38:43.937 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7124/Expense/2011 - -
2023-06-28 15:38:43.939 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.ExpenseController.DeleteExpense (ExpenseMaster)'
2023-06-28 15:38:43.942 +03:00 [INF] Route matched with {action = "DeleteExpense", controller = "Expense"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteExpense(Int32) on controller ExpenseMaster.Controllers.ExpenseController (ExpenseMaster).
2023-06-28 15:38:43.955 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Amount], [e].[CategoryId], [e].[Date], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[Id] = @__id_0
2023-06-28 15:38:50.063 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__expenseItemDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Amount], [e].[CategoryId], [e].[Date], [e].[UserId]
FROM [Expenses] AS [e]
WHERE [e].[Id] = @__expenseItemDto_Id_0
2023-06-28 15:38:51.254 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Expenses]
OUTPUT 1
WHERE [Id] = @p0;
2023-06-28 15:38:51.262 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2023-06-28 15:38:51.264 +03:00 [INF] Executed action ExpenseMaster.Controllers.ExpenseController.DeleteExpense (ExpenseMaster) in 7320.9845ms
2023-06-28 15:38:51.266 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.ExpenseController.DeleteExpense (ExpenseMaster)'
2023-06-28 15:38:51.267 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7124/Expense/2011 - - - 200 - application/json;+charset=utf-8 7329.8571ms
2023-06-28 15:39:46.382 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7124/Income application/json 107
2023-06-28 15:39:46.387 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.IncomeController.UpdateIncome (ExpenseMaster)'
2023-06-28 15:39:46.393 +03:00 [INF] Route matched with {action = "UpdateIncome", controller = "Income"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseMaster.BusinessLogic.Dto.IncomeItemDto]] UpdateIncome(ExpenseMaster.BusinessLogic.Dto.IncomeItemDto) on controller ExpenseMaster.Controllers.IncomeController (ExpenseMaster).
2023-06-28 15:39:57.358 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Date), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Incomes] SET [Amount] = @p0, [CategoryId] = @p1, [Date] = @p2, [UserId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2023-06-28 15:39:57.367 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ExpenseMaster.DAL.DatabaseContext.ApplicationDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-06-28 15:39:57.541 +03:00 [INF] Executed action ExpenseMaster.Controllers.IncomeController.UpdateIncome (ExpenseMaster) in 11146.16ms
2023-06-28 15:39:57.543 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.IncomeController.UpdateIncome (ExpenseMaster)'
2023-06-28 15:39:57.613 +03:00 [ERR] Error when accessing the database.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ExpenseMaster.DAL.Repository.RepositoryWrapper.SaveAsync() in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster.DAL\Repository\RepositoryWrapper.cs:line 88
   at ExpenseMaster.BusinessLogic.Implementations.IncomeService.UpdateIncome(IncomeItemDto incomeItemDto) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster.BusinessLogic\Implementations\IncomeService.cs:line 71
   at ExpenseMaster.Controllers.IncomeController.UpdateIncome(IncomeItemDto incomeItemDto) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Controllers\IncomeController.cs:line 47
   at lambda_method240(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ExpenseMaster.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Middlewares\ExceptionHandlingMiddleware.cs:line 20
2023-06-28 15:39:57.620 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7124/Income application/json 107 - 400 - - 11237.9700ms
2023-06-28 15:40:16.932 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7124/Income application/json 106
2023-06-28 15:40:16.942 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.IncomeController.UpdateIncome (ExpenseMaster)'
2023-06-28 15:40:16.945 +03:00 [INF] Route matched with {action = "UpdateIncome", controller = "Income"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ExpenseMaster.BusinessLogic.Dto.IncomeItemDto]] UpdateIncome(ExpenseMaster.BusinessLogic.Dto.IncomeItemDto) on controller ExpenseMaster.Controllers.IncomeController (ExpenseMaster).
2023-06-28 15:40:30.002 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Date), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Incomes] SET [Amount] = @p0, [CategoryId] = @p1, [Date] = @p2, [UserId] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2023-06-28 15:40:30.004 +03:00 [INF] Executing OkObjectResult, writing value of type 'ExpenseMaster.BusinessLogic.Dto.IncomeItemDto'.
2023-06-28 15:40:30.005 +03:00 [INF] Executed action ExpenseMaster.Controllers.IncomeController.UpdateIncome (ExpenseMaster) in 13059.1407ms
2023-06-28 15:40:30.009 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.IncomeController.UpdateIncome (ExpenseMaster)'
2023-06-28 15:40:30.010 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7124/Income application/json 106 - 200 - application/json;+charset=utf-8 13077.8721ms
2023-06-28 15:40:36.021 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7124/Income - -
2023-06-28 15:40:36.022 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.IncomeController.GetIncomes (ExpenseMaster)'
2023-06-28 15:40:36.023 +03:00 [INF] Route matched with {action = "GetIncomes", controller = "Income"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ExpenseMaster.BusinessLogic.Dto.IncomeItemDto]]] GetIncomes() on controller ExpenseMaster.Controllers.IncomeController (ExpenseMaster).
2023-06-28 15:40:36.032 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[Amount], [i].[CategoryId], [i].[Date], [i].[UserId]
FROM [Incomes] AS [i]
2023-06-28 15:40:36.037 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ExpenseMaster.BusinessLogic.Dto.IncomeItemDto, ExpenseMaster.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-06-28 15:40:36.039 +03:00 [INF] Executed action ExpenseMaster.Controllers.IncomeController.GetIncomes (ExpenseMaster) in 14.6814ms
2023-06-28 15:40:36.042 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.IncomeController.GetIncomes (ExpenseMaster)'
2023-06-28 15:40:36.044 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7124/Income - - - 200 - application/json;+charset=utf-8 23.3759ms
2023-06-28 15:40:48.036 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7124/User/-5 - -
2023-06-28 15:40:48.038 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.UserController.DeleteUser (ExpenseMaster)'
2023-06-28 15:40:48.041 +03:00 [INF] Route matched with {action = "DeleteUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteUser(Int32) on controller ExpenseMaster.Controllers.UserController (ExpenseMaster).
2023-06-28 15:40:48.052 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-06-28 15:40:48.125 +03:00 [INF] Executed action ExpenseMaster.Controllers.UserController.DeleteUser (ExpenseMaster) in 82.5992ms
2023-06-28 15:40:48.127 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.UserController.DeleteUser (ExpenseMaster)'
2023-06-28 15:40:48.191 +03:00 [ERR] There was an error.
System.InvalidOperationException: User with id - -5 not found
   at ExpenseMaster.BusinessLogic.Implementations.UserService.DeleteUserAsync(Int32 userId) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster.BusinessLogic\Implementations\UserService.cs:line 62
   at ExpenseMaster.Controllers.UserController.DeleteUser(Int32 id) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Controllers\UserController.cs:line 39
   at lambda_method254(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ExpenseMaster.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Middlewares\ExceptionHandlingMiddleware.cs:line 20
2023-06-28 15:40:48.197 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7124/User/-5 - - - 500 - - 161.2785ms
2023-06-28 15:41:02.238 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7124/User/1004 - -
2023-06-28 15:41:02.239 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.UserController.DeleteUser (ExpenseMaster)'
2023-06-28 15:41:02.240 +03:00 [INF] Route matched with {action = "DeleteUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteUser(Int32) on controller ExpenseMaster.Controllers.UserController (ExpenseMaster).
2023-06-28 15:41:02.250 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-06-28 15:41:07.819 +03:00 [INF] Executed action ExpenseMaster.Controllers.UserController.DeleteUser (ExpenseMaster) in 5577.2163ms
2023-06-28 15:41:07.821 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.UserController.DeleteUser (ExpenseMaster)'
2023-06-28 15:41:07.883 +03:00 [ERR] There was an error.
System.InvalidOperationException: User with id - 1004 not found
   at ExpenseMaster.BusinessLogic.Implementations.UserService.DeleteUserAsync(Int32 userId) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster.BusinessLogic\Implementations\UserService.cs:line 62
   at ExpenseMaster.Controllers.UserController.DeleteUser(Int32 id) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Controllers\UserController.cs:line 39
   at lambda_method254(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ExpenseMaster.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Middlewares\ExceptionHandlingMiddleware.cs:line 20
2023-06-28 15:41:07.888 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7124/User/1004 - - - 500 - - 5650.2867ms
2023-06-28 15:41:39.485 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7124/User/1004 - -
2023-06-28 15:41:39.488 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.UserController.DeleteUser (ExpenseMaster)'
2023-06-28 15:41:39.489 +03:00 [INF] Route matched with {action = "DeleteUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteUser(Int32) on controller ExpenseMaster.Controllers.UserController (ExpenseMaster).
2023-06-28 15:41:39.500 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[Login], [u].[PasswordHash], [u].[PasswordSalt], [u].[RoleId]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2023-06-28 15:41:39.570 +03:00 [INF] Executed action ExpenseMaster.Controllers.UserController.DeleteUser (ExpenseMaster) in 79.0832ms
2023-06-28 15:41:39.573 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.UserController.DeleteUser (ExpenseMaster)'
2023-06-28 15:41:39.633 +03:00 [ERR] There was an error.
System.InvalidOperationException: User with id - 1004 not found
   at ExpenseMaster.BusinessLogic.Implementations.UserService.DeleteUserAsync(Int32 userId) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster.BusinessLogic\Implementations\UserService.cs:line 62
   at ExpenseMaster.Controllers.UserController.DeleteUser(Int32 id) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Controllers\UserController.cs:line 39
   at lambda_method254(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ExpenseMaster.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Middlewares\ExceptionHandlingMiddleware.cs:line 20
2023-06-28 15:41:39.638 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7124/User/1004 - - - 500 - - 157.2403ms
2023-06-28 15:41:56.905 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7124/Income/1004 - -
2023-06-28 15:41:56.907 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.IncomeController.DeleteIncome (ExpenseMaster)'
2023-06-28 15:41:56.911 +03:00 [INF] Route matched with {action = "DeleteIncome", controller = "Income"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteIncome(Int32) on controller ExpenseMaster.Controllers.IncomeController (ExpenseMaster).
2023-06-28 15:41:56.922 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Amount], [i].[CategoryId], [i].[Date], [i].[UserId]
FROM [Incomes] AS [i]
WHERE [i].[Id] = @__id_0
2023-06-28 15:42:13.191 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__incomeItemDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Amount], [i].[CategoryId], [i].[Date], [i].[UserId]
FROM [Incomes] AS [i]
WHERE [i].[Id] = @__incomeItemDto_Id_0
2023-06-28 15:42:13.198 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Incomes]
OUTPUT 1
WHERE [Id] = @p0;
2023-06-28 15:42:13.200 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2023-06-28 15:42:13.201 +03:00 [INF] Executed action ExpenseMaster.Controllers.IncomeController.DeleteIncome (ExpenseMaster) in 16289.1182ms
2023-06-28 15:42:13.202 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.IncomeController.DeleteIncome (ExpenseMaster)'
2023-06-28 15:42:13.203 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7124/Income/1004 - - - 200 - application/json;+charset=utf-8 16298.5514ms
2023-06-28 15:42:19.684 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7124/Income/-1 - -
2023-06-28 15:42:19.686 +03:00 [INF] Executing endpoint 'ExpenseMaster.Controllers.IncomeController.DeleteIncome (ExpenseMaster)'
2023-06-28 15:42:19.687 +03:00 [INF] Route matched with {action = "DeleteIncome", controller = "Income"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteIncome(Int32) on controller ExpenseMaster.Controllers.IncomeController (ExpenseMaster).
2023-06-28 15:42:19.693 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Amount], [i].[CategoryId], [i].[Date], [i].[UserId]
FROM [Incomes] AS [i]
WHERE [i].[Id] = @__id_0
2023-06-28 15:42:37.194 +03:00 [INF] Executed action ExpenseMaster.Controllers.IncomeController.DeleteIncome (ExpenseMaster) in 17504.7728ms
2023-06-28 15:42:37.196 +03:00 [INF] Executed endpoint 'ExpenseMaster.Controllers.IncomeController.DeleteIncome (ExpenseMaster)'
2023-06-28 15:42:37.256 +03:00 [ERR] Error in query arguments.
System.ArgumentNullException: Cannot pass null model to Validate. (Parameter 'instanceToValidate')
   at FluentValidation.AbstractValidator`1.EnsureInstanceNotNull(Object instanceToValidate) in /_/src/FluentValidation/AbstractValidator.cs:line 497
   at FluentValidation.AbstractValidator`1.ValidateInternalAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /_/src/FluentValidation/AbstractValidator.cs:line 236
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in /_/src/FluentValidation/AbstractValidator.cs:line 202
   at ExpenseMaster.BusinessLogic.Validators.Wrapper.ValidatorWrapper.Validate[T](T validate) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster.BusinessLogic\Validators\Wrapper\ValidatorWrapper.cs:line 20
   at ExpenseMaster.BusinessLogic.Implementations.IncomeService.ValidateDto[T](T dto) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster.BusinessLogic\Implementations\IncomeService.cs:line 114
   at ExpenseMaster.BusinessLogic.Implementations.IncomeService.DeleteIncome(IncomeItemDto incomeItemDto) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster.BusinessLogic\Implementations\IncomeService.cs:line 80
   at ExpenseMaster.Controllers.IncomeController.DeleteIncome(Int32 id) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Controllers\IncomeController.cs:line 56
   at lambda_method264(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ExpenseMaster.Middlewares.ExceptionHandlingMiddleware.Invoke(HttpContext context) in C:\Users\stasd\Git\ExpenseMaster\ExpenseMaster\Middlewares\ExceptionHandlingMiddleware.cs:line 20
2023-06-28 15:42:37.285 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7124/Income/-1 - - - 400 - - 17601.2339ms
